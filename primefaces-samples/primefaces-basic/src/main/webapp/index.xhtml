<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>PrimeFaces</title>
            </f:facet>
            <script type="text/javascript">
				function showStatus() {
					//PF('statusDialog').show();
				}
				function hideStatus() {
					//PF('statusDialog').hide();
					PF('statusDialog').show();
				}
			</script>

        </h:head>

        <h:body>

           <p><h:link value="Login" outcome="login"></h:link></p>
           <p><h:link value="Registration" outcome="registration"></h:link></p>
           <p><h:link value="Welcome" outcome="welcome"></h:link></p>
            
			<h:form>
				<p:growl autoUpdate="true"></p:growl>
				<h:outputText value="#{flash['msg']}"></h:outputText>
				<p:dialog modal="true" widgetVar="statusDialog" header="Status" draggable="false" closable="true">
					<p>Downloaded</p>
				</p:dialog>
				
				<p:commandButton value="Download" ajax="false" actionListener="#{fileDownloadController.showStatus}"
					onclick="PrimeFaces.monitorDownload(showStatus, hideStatus)">
					<p:fileDownload value="#{fileDownloadController.file}"  />
				</p:commandButton>
			</h:form>
        </h:body>

    </f:view>
</html>

